# ハイブリッドクラウドスタイル

この章では典型的なハイブリッドクラウドの利用スタイルを「ハイブリッドクラウドスタイル」としてカタログ的に紹介をします。「スタイル選択ポイント」を軸にしながら重要なポイントに関しては「共通考慮ポイント」からも抜粋して記載を行います。

本ガイドラインで抽出しているスタイルは **「スタイル選択ポイント」に存在する要素とその選択肢の組み合わせをすべて網羅しているものではない** 事に注意してください。バリエーションとして理論的に存在しうるという可能性の話よりも、現実にそのシステム構成を選択した顧客とユースケースが存在している典型的な例であり、他の組織が自組織に適用を検討できる具体的なものであることを重視しています。

参照にあたっては「3　スタイルマップ」をあわせてご覧になりながら全体の中での位置づけを確認していただきながら読み進めていただくことを推奨します。

## オンプレミス環境のみ(物理および仮想)

### スタイル概要

![](media/image3.png)

| スタイル選択ポイント | 実装 | 
|---------------|-----------------------|
| システム配置場所 | オンプレミスのみに配置 |
| データ配置場所 | オンプレミスのみに配置 |
| システムアーキテクチャ | レガシーシステム |

### 特徴

このスタイルはハイブリッドクラウドではありませんが現実的に多いスタイルであり、特徴を抑えておく必要があるためスタイルの1つとして記載しています。

このスタイルはオンプレミス環境のみで仮想マシンを中心としたレガシーな手法でシステムを構築しているものを想定しています。典型的には仮想基盤を構築した上でその基盤上に仮想マシンを作成してシステムを構築します。

仮想基盤はSAN(Storage Area Network)を構築して専用ストレージを用いるものやHCI(Hyper Converged Infrastructure)を用いるものなど変遷がありますが、本書ではその違いを区別していません。その点は「ハイブリッドクラウドの活用」という観点において本質的に重要な差異ではないと考えるためです。

システム構成としてはWindows系であれば下記のような構成が一般的です。

- 認証システムにActive Directoryを利用
- システムを構成するサーバー群にはActive Directoryに参加したWindows Serverを利用
- システムはWindows統合認証で構成
- クライアントはActive Directoryに参加したWindowsクライアント

全てプライベートネットワーク内に閉じているため、Active Directoryによるユーザーおよびグループの一元管理やグループポリシーによる種々の管理等が可能です。

「組織の内部」と「組織の外部」を明確に区切ることができるため、セキュリティ対策的にも「内部と外部の境界をネットワーク的に守る」という発想で組み立てられていることが多くあります。

本来は望ましくはありませんが、「組織内部からしかアクセスできないため、セキュリティパッチは適用しないが問題は無い」というロジックでUpdateを行わずに稼働され続けるケースが見られます。一度システムを構築すると極力変化させずに使い続けようとする傾向が強い組織でこのような運用形態が見られます。

### メリット

- 過去のシステム構築、運用の実績をもとに同じ手法で新規システム構築が行える。
- 全てのコントロールが自組織にて行える。

### デメリット

- パブリッククラウドを中心に起きている技術革新の恩恵を取り入れにくい。
- 物理的なものの管理から含め全てを自組織で行う必要があり展開スピードが相対的に遅い。

### ユースケース

このスタイルに関してのユースケースは本ガイドラインの趣旨に合致しないため省略します。クラウドサービス登場以前は全てこの形態であったためユースケースは大量に存在することになります。

## オンプレミス環境のみ(クラウドネイティブシステム)

### スタイル概要

![](media/image4.png)

| スタイル選択ポイント | 実装 | 
|---------------|-----------------------|
| システム配置場所 | オンプレミスのみに配置 |
| データ配置場所 | オンプレミスのみに配置 |
| システムアーキテクチャ | クラウドネイティブシステム |

### 特徴

このスタイルはハイブリッドクラウドではありませんが現実的に多いスタイルであり、特徴を抑えておく必要があるためスタイルの1つとして記載しています。オンプレミス環境のみでシステムを構築する点は「5.1 オンプレミス環境のみ(物理および仮想)」と同等ですが、このスタイルではクラウドネイティブシステムを構築します。物理サーバーや仮想サーバーを中心とした硬直的なシステム**ではない**システムの作りを指しています。

クラウドネイティブシステムを構築する組織は相対的にパブリッククラウドの活用が進んでいる組織が多いですが、様々な理由でパブリッククラウドの利用ができないケースや、システムもデータも含めて全てをオンプレミスに配置することにメリットがあるケースではこのように場所としてはオンプレミスでありながら先進的な手法で先進的なシステムを構築し、生産性の向上を得ることができます。

クラウドネイティブシステムを構築する上ではその基盤となるシステムもクラウドネイティブなシステムの提供に適したクラウドネイティブな基盤であることが重要となります。

### メリット

- クラウドネイティブシステムを採用することでレガシーシステムと比較して大幅なビジネススピードの向上が可能。
- オンプレミスにシステム全体を配置することでインターネット(外部)のセキュリティ脅威との境界をこれまでと同じ考え方で構築可能。

### デメリット

- パブリッククラウドを中心に起きている技術革新の恩恵を取り入れることが可能だが、パブリッククラウドのスピードには劣る。
- 物理的な機器の管理を自組織で行う必要があり、パブリッククラウドのスピード、スケールと比較すると劣る。

### ユースケース

- [レガシーシステムのクラウドネイティブ化](./006_ハイブリッドクラウドユースケース.md#レガシーシステムのクラウドネイティブ化)

## クラウドを補完的に利用

### スタイル概要

![](media/image5.png)

| スタイル選択ポイント | 実装 | 
|---------------|-----------------------|
| システム配置場所 | メインをオンプレミスに配置。補完的なクラウド上のサービスを利用 |
| データ配置場所 | メインをオンプレミスに配置。一部データをクラウド上に配置 |
| システムアーキテクチャ | レガシーシステム |

### 特徴

このスタイルはパブリッククラウド活用の1歩目としてよく採用されるスタイルです。

オンプレミス側は既存と同じシステム構築手法を取りながら、バックアップやログ収集等既存システムを補完するサービスを採用し、システムを拡張します。

パブリッククラウド側にはシステム本体があるわけではないため、パブリッククラウドどの接続はパブリックなインターネット回線を利用する事もできますし、パフォーマンス上あるいはセキュリティ上の懸念があれば専用線やVPNを利用して連携を行うことができます。

### メリット

- メインのシステムは従来から利用している手法を用いることもできるためパブリッククラウドの利用を少ない変化で開始することができ、その恩恵を受けられる。
- クラウドのサービスを利用するものに関しては、それをオンプレミスで実現するためのリソース調達、基盤構築、運用、保守等に関して行う必要が無い。
- クラウドのサービスは従量課金でサービス利用できるためスモールスタートが可能。また、不要になった際の利用停止や、動的に拡張することも容易である。

### デメリット

- パブリッククラウドという新しい場所の新しいサービスを利用開始するための組織的合意が必要。これがデメリットとならない組織も多くあるが、一部硬直した組織にとっては高いハードルと高いコストとなる。
- オンプレミスの環境に加えてパブリッククラウドの環境の管理が必要となる。過去の経験、ノウハウがそのまま適用可能なわけではないため、新しい概念の習得やポリシーの策定等が必要。
- オンプレミス環境とクラウド環境とで利用される技術、ユーザーインターフェース、考え方等が異なるため管理者の負担が大きい。
- 従量課金という形態での支払いとなるためお金の流れ、管理の仕方が必要となり、その流れを新たに構築する必要がある。

### ユースケース

- [クラウド災害対策](./006_ハイブリッドクラウドユースケース.md#クラウド災害対策)
- [ログ収集および分析基盤のクラウド上への構築](./006_ハイブリッドクラウドユースケース.md#ログ収集および分析基盤のクラウド上への構築)
- [自動処理のクラウド化](./006_ハイブリッドクラウドユースケース.md#自動処理のクラウド化)

## データセンター拡張(データはオンプレミス)

### スタイル概要

![](media/image6.png)

| スタイル選択ポイント | 実装 | 
|---------------|-----------------------|
| システム配置場所 | オンプレミスとクラウドの両方に配置 |
| データ配置場所 | オンプレミスのみに配置 |
| システムアーキテクチャ | レガシーシステム |

### 特徴

このスタイルはパブリッククラウドの機能やサービスは利用したいが、主にセキュリティ上の懸念がある、法令上の縛りがある等の理由でパブリッククラウドにデータを配置できない場合に選択されることが多いスタイルです。

データの配置場所がオンプレミスに固定されている関係上、オンプレミス環境とクラウド環境を繋ぐネットワークが重要であり専用線やVPNを使うパターンとInternetを利用するパターンとでは構成可能なシステムに大きな違いができます。

クラウド環境と専用線やVPNで接続するケースでは接続速度がシステムにとって十分であれば完全にオンプレミス環境とシームレスに接続されるためクラウド環境であるということを特別に意識しないシステムの構成が可能です。クラウド環境とInternetで接続するケースに関してもその間を接続するための複数の技術が存在します。ユースケースの参照時にはオンプレミス環境とクラウド環境の接続手法にも注目して下さい。

### メリット

- データをオンプレミス環境に保持する必要があるという要件を満たした上でパブリッククラウド環境を利用することができる。
- (オンプレミス環境とクラウド環境間を専用線あるいはVPNで接続した場合)オンプレミス環境の延長として従来から利用している手法を用いてハイブリッドな環境を利用可能となる。
- クラウドのサービスを利用するものに関しては、それをオンプレミスで実現するためのリソース調達、基盤構築、運用、保守等に関して行う必要が無い。
- クラウドのサービスは従量課金でサービス利用できるためスモールスタートが可能。サービス利用停止も容易。

### デメリット

- データの配置場所がオンプレミスに限定されるため、システムによってはこのスタイルでの実装が現実的に困難となるケースがある。具体的にはパフォーマンス要件を満たせない事がある。
- 相対的にクラウドサービスを使うことのメリットが大きいビッグデータに代表されるようなクラウド環境上にデータを蓄積し分析するようなサービスの利用ができない。
- オンプレミス環境とクラウド環境とで利用される技術、ユーザーインターフェース、考え方等が異なるため管理者の負担が大きい。
- 単純に場所だけがクラウド環境になっているだけの使い方をする場合にはシステム上のメリットがあまり無い中で、クラウドのための新規の契約や支払い方法等が必要となり得られるメリットに対するオーバーヘッドが大きい。

### ユースケース

- [機密データをオンプレミスに配置しパブリッククラウドとシームレスに連携](./006_ハイブリッドクラウドユースケース.md#機密データをオンプレミスに配置しパブリッククラウドとシームレスに連携)
- [クラウド災害対策](./006_ハイブリッドクラウドユースケース.md#クラウド災害対策)
- [データ主権とデータグラビティ](./006_ハイブリッドクラウドユースケース.md#データ主権とデータグラビティ)
- [Oracleデータベースのマルチクラウド利用](./006_ハイブリッドクラウドユースケース.md#Oracleデータベースのマルチクラウド利用)

## データセンター拡張(データもクラウド配置可能)

### スタイル概要

![](media/image7.png)

| スタイル選択ポイント | 実装 | 
|---------------|-----------------------|
| システム配置場所 | オンプレミスとクラウドの両方に配置 |
| データ配置場所 | オンプレミスとクラウドの両方に配置 |
| システムアーキテクチャ | レガシーシステム |

### 特徴

このスタイルは自由にクラウド環境とオンプレミス環境を利用可能ななかでシステムを構成することができます。オンプレミスと専用線あるいはVPNで接続した構成であれば従来のオンプレミス環境で構築していたシステムと同じ考え方でシステムを任意の場所で構築する事もできますし、クラウドに存在する多種多様なサービスを自由にシステムに組み込むことも可能です。

データをクラウドに配置することでむしろセキュリティ的には強化されるという考えを受け入れた組織がこのスタイルを選択することができます。

クラウドサービスは常に進化を続けているため、システム構築の面でもどのサービスをどのように利用するかを考え続け、選択することになります。

### メリット

- 多種多様なクラウドサービスを必要に応じてシステムで利用することが可能となる
- (オンプレミス環境とクラウド環境間を専用線あるいはVPNで接続した場合)オンプレミス環境の延長として従来から利用している手法を用いてハイブリッドな環境を利用可能となる。
- クラウドのサービスを利用するものに関しては、それをオンプレミスで実現するためのリソース調達、基盤構築、運用、保守等に関して行う必要が無い。
- クラウドのサービスは従量課金で利用できるためスモールスタートが可能。サービス利用停止も容易。

### デメリット

- オンプレミス環境とクラウド環境とで利用される技術、ユーザーインターフェース、考え方等が異なるため管理者の負担が大きい。
- 単純に場所だけがクラウド環境になっているだけの使い方をする場合にはシステム上のメリットがあまり無い中で、クラウドのための新規の契約や支払い方法等が必要となり得られるメリットに対するオーバーヘットが大きい。

### ユースケース

- [高速な金融取引のためのハイブリッド構成](./006_ハイブリッドクラウドユースケース.md#高速な金融取引のためのハイブリッド構成)
- [クラウド災害対策](./006_ハイブリッドクラウドユースケース.md#クラウド災害対策)
- [Oracleデータベースのマルチクラウド利用](./006_ハイブリッドクラウドユースケース.md#Oracleデータベースのマルチクラウド利用)
- [クラウドによるオンプレミスDBの分析と可視化](./006_ハイブリッドクラウドユースケース.md#クラウドによるオンプレミスDBの分析と可視化)
- [EAI利用によるクラウドをまたいだデータの利活用](./006_ハイブリッドクラウドユースケース.md#EAI利用によるクラウドをまたいだデータの利活用)
- [ファイルサーバーのスモールスタートとハイブリッド化](./006_ハイブリッドクラウドユースケース.md#ファイルサーバーのスモールスタートとハイブリッド化)

## ハイブリッドなクラウド基盤を利用したシステム

### スタイル概要

![](media/image8.png)

| スタイル選択ポイント | 実装 | 
|---------------|-----------------------|
| システム配置場所 | オンプレミスとクラウドに適材適所で配置 |
| データ配置場所 | オンプレミスとクラウドに適材適所で配置 |
| システムアーキテクチャ | クラウドネイティブシステム |

### 特徴

オンプレミスにもクラウド基盤を持ち、パブリッククラウドと合わせてクラウドネイティブなシステムを構築するスタイルです。クラウドネイティブなシステムを構築することでよりクラウドのメリットを享受し、システムによる付加価値に注力します。

典型的にはIaaSよりもPaaSやコンテナを用いたマイクロサービス指向のアーキテクチャを採用し、Infrastructure
as Code,の考え方や継続的インテグレーション、継続的デリバリー等のプラクティスを用いて頻繁に更新、改善するケースが多くあります。

### メリット

- 多種多様なクラウドサービスを必要に応じてシステムで利用することが可能となる
- クラウドもオンプレミスもサービスを利用した分だけ支払う従量課金モデルで迅速にシステムを構築し、構成も変化させることができる。
- クラウドとオンプレミスとで同じ技術、コード、UI、考え方等を適用可能となる。
- 迅速にシステムを構築、改善することが可能となる。
- ハイブリッドなクラウド基盤の上で適材適所にコンポーネントを配置することが可能となり最適な形でのシステム構築が可能となる。

### デメリット

- レガシーなシステム構築とは異なる技術と考え方が必要となり、システム設計における根本的な意識変革が必要となる。
- 仮装基盤上のレガシーシステム構築時の手法は大部分が利用できないため、クラウドに即した手法の習得と実践が必要。
- クラウドとオンプレミス間の地理的/物理的なインターバルを意識しづらく、システム全体のパフォーマンス指標に対し、個々の処理のレイテンシーやスループットの問題への切り分けが困難となる。

### ユースケース

- [レガシーシステムのクラウドネイティブ化](./006_ハイブリッドクラウドユースケース.md#レガシーシステムのクラウドネイティブ化)
- [クラウドエッジ](./006_ハイブリッドクラウドユースケース.md#クラウドエッジ)
- [高速な金融取引のためのハイブリッド構成](./006_ハイブリッドクラウドユースケース.md#高速な金融取引のためのハイブリッド構成)
- [Hybrid DevOps](./006_ハイブリッドクラウドユースケース.md#Hybrid-DevOps)
- [データ主権とデータグラビティ](./006_ハイブリッドクラウドユースケース.md#データ主権とデータグラビティ)
- [分析のための階層化データ](./006_ハイブリッドクラウドユースケース.md#分析のための階層化データ)
- [地域分散アプリケーション](./006_ハイブリッドクラウドユースケース.md#地域分散アプリケーション)
- [医療機関Webサイト](./006_ハイブリッドクラウドユースケース.md#医療機関Webサイト)
- [Oracleデータベースのマルチクラウド利用](./006_ハイブリッドクラウドユースケース.md#Oracleデータベースのマルチクラウド利用)
- [クラウドによるオンプレミスDBの分析と可視化](./006_ハイブリッドクラウドユースケース.md#クラウドによるオンプレミスDBの分析と可視化)
- [EAI利用によるクラウドをまたいだデータの利活用](./006_ハイブリッドクラウドユースケース.md#EAI利用によるクラウドをまたいだデータの利活用)
- [ファイルサーバーのスモールスタートとハイブリッド化](./006_ハイブリッドクラウドユースケース.md#ファイルサーバーのスモールスタートとハイブリッド化)

## クラウド環境のみ(レガシーシステム)

### スタイル概要

![](media/image9.png)

| スタイル選択ポイント | 実装 | 
|---------------|-----------------------|
| システム配置場所 | クラウドのみ |
| データ配置場所 | クラウドのみ |
| システムアーキテクチャ | レガシーシステム |

### 特徴

システムを完全にクラウド環境上で構築、利用します。SaaSの利用と合わせて全てのシステムおよびデータをクラウド上に配置可能であり、システム利用者もインターネット経由での利用となります。

### メリット

- オンプレミスに資産を持たず、全て従量課金でのシステム構築と利用が可能。
- クラウド上の多様なサービスを活用したシステム構築が可能。

### デメリット

- システムによっては大容量のデータをクラウドと利用者との間でやり取りする必要が出るなど、パフォーマンス、コスト的に不利な構成となるケースがある。
- 法令等でオンプレミスでのデータ保持等が必須要件となっている場合には対応ができない。
- クラウドサービスの更新により、意図しない変更が意図しないタイミングで発生する可能性がある。
- サードパーティー製パッケージアプリケーションやSDK等、クラウド上での稼働を当該メーカーがサポートしないケースがある。

### ユースケース

このスタイルに関してのユースケースは本ガイドラインの趣旨に合致しないため省略します。

## クラウド環境のみ(クラウドネイティブシステム)

### スタイル概要

![](media/image10.png)


| スタイル選択ポイント | 実装 | 
|---------------|-----------------------|
| システム配置場所 | クラウドのみ |
| データ配置場所 | クラウドのみ |
| システムアーキテクチャ | クラウドネイティブシステム |

### 特徴

システムを完全にクラウド環境上で構築、利用します。SaaSの利用と合わせて全てのシステムおよびデータをクラウド上に配置可能であり、システム利用者もインターネット経由での利用となります。

典型的にはシステム利用者のIDもクラウド上のIDaaSを利用するフルクラウド構成となります。

アプリケーションやサービスの迅速な展開を可能とし、かつDevOpsを実現します。

### メリット

- クラウドネイティブシステムを採用することでレガシーシステムと比較して大幅なビジネススピードの向上が可能。
- オンプレミスに資産を持たず、全て従量課金でのシステム構築と利用が可能。
- クラウド上の多様なサービスを活用したシステム構築が可能。

### デメリット

- システムによっては大容量のデータのクラウドと利用者との間でやり取りする必要が出るなど、パフォーマンス、コスト的に不利な構成となるケースがある。
- 法令等でオンプレミスでのデータ保持等か必須要件となっている場合には対応ができない。
- クラウドサービスの更新により、意図しない変更が意図しないタイミングで発生する可能性がある。
- サードパーティー製パッケージアプリケーションやSDK等、クラウド上での稼働を当該メーカーがサポートしないケースがある。

### ユースケース

- [レガシーシステムのクラウドネイティブ化](./006_ハイブリッドクラウドユースケース.md#レガシーシステムのクラウドネイティブ化)
