# ハイブリッドクラウドスタイル選択の考慮点

ハイブリッドクラウドの構成方法、利用方法には様々な形態があります。

本ガイドラインではスタイルの特徴を決定づける「スタイル選択ポイント」とすべてのスタイルにて共通で考慮すべき「共通考慮ポイント」を定義しています。

「スタイル選択ポイント」および「共通考慮ポイント」はハイブリッドクラウド利用において常に重要なポイントであり、どのスタイルにおいても全て考慮されるべきです。本ガイドラインでは利用スタイルの分類のために「スタイル選択ポイント」と「共通考慮ポイント」と区分けをしているのみであり、その重要度や考慮すべき順番で区分けをしているわけでは無いことに注意してください。

**スタイル選択ポイント**

- システム配置場所 
- データ配置場所(データ機密性)
- システムアーキテクチャ

**共通考慮ポイント**

- ネットワーク形態 
- 法令遵守
- セキュリティ要件
- データ容量
- 遅延時間/応答時間
- ネットワークトラフィック量
- Updateおよびサポートライフサイクルへの追従ポリシー
- SLA / 可用性
- 価格/コスト
- 利用サービス
- システム利用者の場所
- 組織外部との連携(利用者/連携サービス)
- サービス、データ連携手段
- 開発手法/速度/リリース頻度/スキル/学習コスト
- 運用手法/コスト/スキル/学習コスト
- システムパフォーマンス
- パブリッククラウドへの接続性
- 可搬性
- ライセンスポリシー
- 認証システム
- システム稼働時間

まずこれらの要素の特徴を解説します。

## スタイル選択ポイント

「スタイル」を決定づける要素とその選択肢に関して説明します。

### システム配置場所

システムを配置する場所は具体的にどこに何を配置するかに直結し、システムアーキテクチャ上も非常に重要です。なお、本ガイドラインでは「システム」という表現の中にはデータは含めておらず特別扱いしている点に注意してください。データに関しては「データ配置場所(機密性)」という項目で独立させています。

#### オンプレミス

システム配置場所としてのオンプレミスは、システム設計者、管理者からすると過去の資産やノウハウが利用できるため選択しやすい選択肢です。オンプレミスであるため必ず物理的な機器の管理および運用を組織として実行する必要があります。ファームウェアバージョンまで含めてすべてをコントロールすることができますが、基盤としての安定した稼働や、不足リソースの充当や物理機器の故障時の対応等も自組織にて対応する必要があります。システムの動作基盤として仮想基盤を採用する場合には仮想基盤の構築、運用、管理、バージョンアップ等もすべて自組織で行う必要があります。

同時に物理的な機器を配置するためのスペース、空調設備、電源等ふくめ適切に管理される必要があります。自組織ですべて管理するケースから、データセンター事業者と契約し場所の提供を受けるケースもあります。

一般的にパブリッククラウドと比較した場合に自由度は非常に高くなる一方、管理工数が多くなることになります。

#### パブリッククラウド

システム配置場所としてのパブリッククラウドは、物理的な機器の管理をすべてパブリッククラウド事業者が行っており利用者はそれを意識する必要がない点がオンプレミスと決定的に異なります。ベアメタルで物理的なサーバー自体をサービス利用できるものもありますが、いずれの場合でも物理的な機器の管理責任はクラウド事業者であり、設置するためのスペース、空調設備、電源、利用する具体的なハードウェアの準備、故障時の対応、ファームウェア更新等含めてすべてクラウド事業者に任せることができます。仮想基盤の構築、運用、管理、バージョンアップ等もすべてクラウド事業者により行われます。

管理面で見ると非常に利用者が楽をできる構造ですが、逆にクラウド事業者によりすべてコントロールされており自由度はオンプレミスと比べて圧倒的に低くなります。

#### 連携

システムは多数のコンポーネントからなり、コンポーネント同士が連携して動作します。システムの配置場所としてパブリッククラウドとオンプレミスを連携させる形態があります。これは単一のシステムを構成するコンポーネントがオンプレミスにもクラウドにも配置され連携して動作する形態もありますし、システムの配置をオンプレミスのみあるいはパブリッククラウドのみとし、災害やシステム障害等をトリガーとしてシステムの配置場所を切り替える形態もあります。

連携させる場合にはどちらにどのコンポーネントを配置するのか、何をトリガーに切り替えるのか、切り替えた後にもシステムが動作し続け、利用者からきちんとアクセス可能であるのか等を考慮する必要があります。

オンプレミスとパブリッククラウドの両方にコンポーネントを配置する中でコンポーネント間の通信に何を使うのか、コンポーネント間のネットワークをパブリックなものにするか、プライベートなものにするか等でバリエーションが分かれます。

オンプレミスとパブリッククラウドの両方を使うことで適材適所のコンポーネント配置が実現できることになります。場合によっては動作中にコンポーネントの配置場所が移動する形態も考えられるでしょう。

このように自由に配置するためにはオンプレミスとパブリッククラウドとで存在しているサービスや展開手法等に差異があることは好ましくありません。差異がある場合には学習コストが増加し、作業手順書もオンプレミスとパブリッククラウドで異なるものが必要になる等様々な箇所で負担が増えてしまいます。場所としてはどこであろうとも全く同じ手法で展開でき、全く同じ結果が得られることが望ましい事になります。このような一貫性をもった基盤であればシステムを適材適所で配置可能となります。

### データ配置場所(データ機密性)

データ配置場所はスタイル選択に大きな影響を与える重要な要素です。どれだけ機密性の高いデータを扱うかという軸でデータの配置可能な場所が決まるケースが多くあります。

#### 全データをオンプレミスに保持が必要

パブリッククラウドのコンピューティングリソースの利用は可能でも、データは必ずオンプレミス内に保持する必要があるケースです。業界によっては法令でデータ配置場所がオンプレミスに縛られているケースもありますし、組織としてルール決めがなされているケースもあります。

#### 機密性の高いものはオンプレミスに保持が必要

データを機密性で区分し、機密性の高いものはオンプレミスに保持を必須とし、機密性が一定以上低いデータに関してはパブリッククラウドにも配置可能とするケースです。

機密性が高いデータはオンプレミスに配置しますが、機密性が高いデータであっても一部マスクする、オンプレミスでのみ可逆変換できるようにデータを保持した上でパブリッククラウドに配置可能とする等の手法を採用するケースもあります。

各種の暗号化技術を用いることでパブリッククラウドに配置可能なデータ区分を増やすルール決めを行っている組織もあります。

#### 適材適所に配置

すべてのデータを場所にかかわらず適材適所で配置可能とするケースです。実際には自由に配置可能としながらも、災害時にのみクラウドを使う等、どちらかに重みをもたせるケースも見られます。

> パブリッククラウドにデータを配置したほうがセキュアである？
> 
> 多くの組織で「機密性の高いデータはパブリッククラウドには配置できない」というポリシーが持たれており、その実態を反映してデータ配置場所をこのように分類しています。この分類の暗黙の前提には「オンプレミスにデータを配置した方がパブリッククラウドにデータを配置するよりも安全である」という考え方があります。パブリッククラウドでは積極的にセキュリティに関する対策や認証取得情報を開示し安全性をアピールしていますが、仕組み自体がブラックボックス化となっている点がネックになっています。またデータの取り扱いに関して利用者側に自由度が無いということもありす。
> 
> ですがこの前提自体に疑問を提示する声もまた多くあります。「パブリッククラウドにデータを配置したほうがむしろセキュアである」という考え方です。
> 
> 想定するデータの流出経路や原因によって様々な見解があると思いますが、メガパブリッククラウドのデータセンターのレベルで物理層の管理ができている組織は無いであろうということは事実としてあります。データセンター事業者自体にデータを盗まれるケースも一部想定されていると思いますが、そのケースはまだ確認されておらず、暗号化等を適切に用いることで技術的にも防ぐことが可能です。
> 
> 実際にクラウド事業者はプラットフォームとしてセキュアであることの証明として各種の第三者認証を取得しています。認証の数という観点ではオンプレミスのシステムよりもパブリッククラウドのほうがはるかにセキュアであると認定されていると言えるでしょう。
> 
> 一方で、パブリッククラウド上で誤った設定を行えば、簡単に重要なデータがインターネットに無防備にさらされ世界中からアクセス可能となってしまいます。そうなるように設定されているわけですから、これはパブリッククラウドプラットフォームがセキュアであるかどうかとは無関係です。この観点からオンプレミスでネットワーク全体の設計を安全になるようにしておけばパブリッククラウドよりも事故が起きずらいということは事実としてあります。ただ、このような形態を選択すると、パブリッククラウド利用のメリットを最大限に教授することができないことも事実です。
> 
> どこにリスクを想定するか、どのようなスタイルを組織として選択するかという点においてこのデータの配置場所が大きく影響していることは間違いない事実です。

### システムアーキテクチャ

システムアーキテクチャは時代の流れとともにトレンドが移り変わるものですが、コンテナ技術の流行やクラウド及びクラウド上の「サービス」の登場により大きく変化してきています。

実際には一概にどちらであると全てのシステムを2つに完全に分類できるものではなく、様々な分類方法が考えられますが、ここではわかりやすさを優先し大きく「レガシーシステム」と「クラウドネイティブシステム」の2つに分類しています。

#### クラウドネイティブシステム

(オンプレミスかパブリッククラウドかを問わず)クラウド上でシステムを構築することを前提とし、クラウドが提供するサービスを活用したシステムをクラウドネイティブシステムと表現しています。

典型的に下記のような特徴があります。

- 仮想マシンへの依存度が低くコンテナ、サーバーレス、PaaSを有効活用した構成である。
- マイクロサービスアーキテクチャを採用している。
- DevOps、Infrastructure as Code, 継続的インテグレーション、継続的デリバリー等のプラクティスの実践を含めて展開速度が早く、継続的な変更が容易である。
- 運用の自動化、システムの信頼性向上のためのNoOps、Site Reliability Engineeringを採用している。

なお、クラウドネイティブなシステムはパブリッククラウド上でしか実現できないわけではなくオンプレミス上でクラウドネイティブなシステムを構成できる基盤を用いて実現することも可能です。

#### レガシーシステム

主に仮想マシン上にモノリシックなアプリケーションが展開されているシステムを「レガシーシステム」と表現しています。

典型的に下記のような特徴があります。

- ハードウェアとシステムが強く結びついている事が多い。
- 物理マシンあるいは仮想マシンによって構成されている。
- システムを構成するコンポーネントの単位が大きく、なにか変化させる場合に全体のテストが必要となることが多い。
- システムを頻繁に変更することはあまり想定されない。
- ウォーターフォールで開発されることが多い。
- オペレーターによる手作業での作業が多い。

「レガシー」という表現をしていますが、執筆時点では一般的にこの形態でのシステムが非常に多い現状があります。

## 共通考慮ポイント

### ネットワーク形態

ネットワーク形態もハイブリッドクラウド利用のスタイルを選択する上での重要な要素です。システムの配置場所、データの配置場所、さらに利用者が存在するネットワーク的な場所によって決定されるケースが多くあります。

ネットワーク形態には下記のように様々なバリエーションがあります。

- オンプレミスとパブリッククラウドの間にネットワーク的な接続も連携も無い形態
- オンプレミスとパブリッククラウド間をプライベートな接続(VPN, 専用線)で接続する形態
- オンプレミスとパブリッククラウド間をインターネットで連携させる形態

利用するクラウドのサービスによって必然的にネットワーク形態が決まってくるものも多くあります。

オンプレミスのデータセンターをクラウドにまで延長するようなコンセプトにおいてはインターネットを利用せず、プライベートな通信をクラウドとの間で可能とする形態がよく取られます。プライベートIPを用いて相互に通信できる状態となります。日本企業のパブリッククラウド利用の形態ではオンプレミスとパブリッククラウドとの間を専用線で接続するケースが世界の利用例と比較して非常に多い事が知られています。

一方インターネットを活用したネットワーク形態を取ることができれば全体的なコストを圧縮することや、システムを自由度高く適材適所に配置可能となる等のメリットもあります。

エンドユーザーがどこにいるのか、システムはどこに配置されているのか、認証システムは何を採用しているのか等の要素によっても必然的にネットワーク形態が限定される事もあります。

### 法令遵守

特定の業種においては法律上の厳しい制約がありその制約の中でシステムを構築することが必須となります。特にデータの配置場所に制約があるケースが多くあります。

例えば改正個人情報保護法による制約などが挙げられます。

プラットフォームの選択やシステムアーキテクチャの構成はこれら制約の中で行う必要があります。

### セキュリティ要件

セキュリティ要件は組織として採用しているものもあれば、業界として定義されているもの、法令として施行されているもの等複数の種類があります。セキュリティ要件は様々な要素に発展するため、ハイブリッドクラウドスタイル選択にも大きな影響を及ぼします。しっかりと把握したうえでの対応が求められます。

一方でオンプレミスにて適用しているセキュリティ要件を絶対的なものとし、それと全く同じものをクラウドにも適用しようとする組織が多く見られますが、それによってクラウドの可能性やメリットが大きく犠牲になる、オンプレミスと同じ使い方しかできない状態になってしまっている状況もあります。クラウド利用に際してセキュリティ要件も見直す必要も出てくるでしょう。

### データ容量

データ容量はその生成場所、格納場所含めて慎重に検討する必要があります。

データ容量が少ない場合にはあまり制約はなく、自由にアーキテクチャを構成することが可能です。ですが、データ容量が大きい場合にはオンプレミスとパブリッククラウド間でデータを移動させるコストが大きくなるためデータを移動させないようにシステムを構築することが適切な場合が多くあります。特にパブリッククラウドはアップロードには課金されず、ダウンロードには課金される形態が多いためデータ移動時の課金額という観点にも注意が必要です。

またデータ容量がとても大きい場合にはデータを効率的に扱うための適切なアーキテクチャが必要となります。その基盤をオンプレミスで構築するのか、クラウドのサービスを選択するのかは重要な選択です。

データ容量が大きい場合にはその大量のデータを分析する等、データに紐づく後続処理が存在するケースも多くあります。その連携のしやすさという点も考慮が必要です。

### 遅延時間/応答時間

遅延時間および応答時間はシステムのパフォーマンスや使い勝手、ひいてはシステム利用者の満足度に直結するため重要です。この項目はシステムの配置形態、データの配置形態、ネットワーク形態と密接に関連する部分です。システム自体の利用目的にも影響されます。

システムの利用者がオンプレミスに存在する場合にはシステムへのアクセスポイントをオンプレミスに配置したほうが一般的にシステムは高速に動作可能です。

クラウドにすべてのシステムを配置しつつ、その利用者がオンプレミスに存在する形態の場合にはネットワーク的な距離はオンプレミスとクラウドの間の経路分遠くなることになります。システムによっては専用線接続が事実上必須になるケースも考えられます。

一方システム利用者が主にインターネット上に存在する場合にはパブリッククラウドにシステムへのアクセスポイントを配置したほうが有利なケースも多いでしょう。さらにシステムの負荷が高まった場合のスケールアウトの容易さという点も観点として出てきます。この点もパブリッククラウド方が有利です。

いずれの形態にする際でもシステムがきちんと動作する上で必要な遅延時間、応答時間が達成できるアーキテクチャを選択しつつ、将来の利用量の変化にも対応可能にしておくことが必要です。

### ネットワークトラフィック量

ネットワークトラフィック量はシステムおよびデータの配置場所とネットワーク形態に大きく関連する項目です。データ容量とも大きく関連します。

ネットワークトラフィック量が大きい場合にはそのトラフィックが発生する場所、経由する経路への考慮が必要です。特にオンプレミスとクラウドとの間に大量のネットワークトラフィックが発生するようなデザインはシステムパフォーマンスの観点からも課金の観点からも望ましくありません。

遅延時間/応答時間とも関連しますが、例えばオンプレミスで連続的に撮影しているカメラの映像をもとにリアルタイムに物体を認識してフィードバックを返すようなシステムを構築する際に、すべての生の動画データをクラウドに転送、分析した上で結果を返すような作りでは現実的に利用可能なシステムにはならないことが想定されます。このような場合には分析エンジン自体をオンプレミスに配置する等の考慮が必要となるでしょう。

### Updateおよびサポートライフサイクルへの追従ポリシー

Updateおよびサポートライフサイクルへの追従ポリシーは現実的にシステムを配置可能な場所を限定します。常にシステムをUpdateし続け、サポートされる状態を維持しているのであればシステムを自由に配置可能ですが、システムを構築時のまま塩漬けとし、Updateを行わないような場合、パブリッククラウドには配置できないケースが出てきます。

仮想基盤部分の更新に関してもパブリッククラウドであればクラウド事業者によって強制的に行われるため、その影響を受けるケースも考えられます。オンプレミスであればタイミングはコントロールできますが、工数がかかります。このあたりをどのようにコントロールするのか、したいのか、によって選択可能なシステム配置場所が限定される事があります。

逆に、OSのメジャーバージョンアップを行っていないシステムに対して特定のパブリッククラウド上であればサポートが延長されるというケースが存在します。具体的にはWindows Server 2008のEOS後もMicrosoft AzureおよびAzure Stack上であればセキュリティパッチが3年間無償で継続提供されるという発表がなされています。これを目的としてシステムの配置先をAzure, Azure Stack上に移動するケースも考えられます。

### SLA / 可用性

パブリッククラウド上のサービスには多くのケースでSLAの規定があります。あるいはSLAの規定がなくいつ何が起きても承諾するしかないケースもあります。そのSLAの範囲で行われる事が組織としてシステムとして受け入れ可能であればそのサービスは利用可能ですが、受け入れ可能でない場合には利用できないということになります。主にシステムやデータの配置場所やネットワーク接続形態の選択に影響します。SLAの中でも特に可用性に注目して利用の可否を判断するケースが多く見られます。

オンプレミスにおいて独自に構築、管理をすれば、一般的に目的のSLAおよび可用性を達成するように設計が可能です。その際に必要な工数、コストと、クラウドサービスを利用した場合の比較によって配置場所を決定するケースがあります。

### 価格/コスト

価格およびコストはすべての項目に関連するものであり、トータルでのコストを最小化することをすべての判断基準においている組織も多くあります。

パブリッククラウドに従来のオンプレミス環境での運用基準をそのまま適用しようとするケースが多く見られますが、これではパブリッククラウドのメリットを享受することができず、逆に運用コストの増加に繋がります。パブリッククラウドの特性を把握したシステム設計や運用基準の取り決めが必要となります。

また、オンプレミスでは一般に機器を資産として購入するのに対してクラウドであれば資産を持たずに従量課金となるのが一般的であるため、組織の財務上の観点で有利になるシステム形態を選択するケースもあります。

### 利用サービス

どのようなサービス、技術、プラットフォームを利用するかという大きなくくりとして、下記のような選択肢があります。

- IaaS(仮想マシン)
- CaaS(コンテナ)
- PaaS(プロットフォーム)
- FaaS(サーバーレス)

どれを選択するか、あるいは組み合わせるかによってシステム配置、データ配置、必要なネットワーク接続等も変わってきます。

また、どこまでを利用者が管理するのかという要素も変わってきますし、デザイン、運用、コスト、ライフサイクル、スピード等含めて劇的な違いを生みます。

現在の日本のエンタープライズ市場では仮想マシンベースでのシステム構築が大部分ですが、よりクラウドの利点を活かそうと考える場合には別の形態も利用していくことが鍵になります。

また、IaaSやCaaSのようにクラウドプラットフォーム毎に共通的な部分が多く選択の余地が広いものもあれば、クラウドプラットフォーム毎の独自色がつよく、「使いたいサービスがここにしか無い」ということでクラウドプラットフォーム、システム配置場所等が制限されるケースもあります。

### システム利用者の場所

システムおよびデータの配置場所やネットワーク接続形態とも密接に絡んだ上で、遅延時間/応答時間を決定付ける要素でもあります。システム利用者がどこに存在し、どのような手段でシステムを利用するのかということを常に考慮する必要があります。

典型的な例としてはシステム利用者がオンプレミスに存在し、組織内のシステムを利用するケースと、スマートフォン等含めてインターネット上の任意の場所からシステムを利用するのとでは考慮すべきデータフローも、システムを配置すべき場所もすべて変化してきます。

### 組織外部との連携(利用者/連携サービス)

システム利用者の場所とも密接に関係しますが、「外部の組織と組織間で連携する必要がある」、「外部のサービスと連携する必要がある」という場合には、それを前提としたシステム形態とする必要があります。

特に、連携先がレガシーでオンプレミスに閉じたシステムなのか、クラウド上に存在するモダンな連携手段を取ることが可能なAPI等も整備されているサービスなのかでは取るべき手段も変わってきますし、それに起因して選択すべきシステム形態、スタイルも変化してきます。

### サービス、データ連携手段

これは単一のシステム内でコンポーネント間が連携する際の手段という側面と、システムとシステム外部との連携手段という側面の2つがあります。

サービス連携手段によって、完全にプライベートなネットワーク内での通信を想定しているものや、パブリックネットワーク上での通信を想定しているものなどの違いがあります。特にオンプレミスとパブリッククラウドとの間の連携を容易にするために通信ポートやファイアウォールの構成が少なくなることを狙ったものなども存在しており、利用するネットワーク形態とサービス連携手段には密接な関連性があります。

### 開発手法/速度/リリース頻度/スキル/学習コスト

開発手法によって、速度、リリース頻度等が劇的に異なる現状があります。開発手法自体はどの場所、どのサービスを利用している場合でもどこにでも適用可能ではありますが「オンプレミスでのウォーターフォール型での開発」「クラウドでのアジャイルな開発」を比較した時にそれと相性のよいハイブリッドクラウドのスタイルは存在します。

これらはエンジニアのスキルセットや学習のためのコストも含め、組織文化の変革が必要となるため容易に選択や変更が可能なものではありませんが、ハイブリッドクラウドの利点を最大限まで享受するためにはどこかの時点で取り組むべき課題となるでしょう。

### 運用手法/コスト/スキル/学習コスト

開発手法と同様に、運用の手法に関してもスタイル上大きな差異が発生するポイントです。オンプレミスとクラウドとで適用可能な製品、技術等に差異があり、具体的な方法が変化します。

ハイブリッドクラウドでは複数の場所、プラットフォームを運用管理することになりますが、そのなかでそれぞれの違いを許容するのか、同じ手法が通用するように利用するサービスや手法を限定するのか、差異を吸収するプラットフォームや製品を選択するのか等で大きな違いが生まれます。

### システムパフォーマンス

システムを構築、利用する以上システムパフォーマンスは必ず考慮する必要があります。通常パブリッククラウドのほうが圧倒的にスケールしやすい環境が整っています。膨大なコンピューティングリソース、ストレージリソース、ネットワークリソースを利用することでシステムのパフォーマンスが向上し、そのパフォーマンスの向上に大きな意味があるケースではパブリッククラウドの利用のメリットが出るでしょう。また、急激なアクセス増加時のオートスケーリング等、システムのパフォーマンスを動的に変更できる点でも、パブリッククラウド利用のメリットがあります。

一方でオンプレミスでなければシステムのパフォーマンスが満たせないケースも存在します。典型的な例としてはネットワーク上の場所が重要であり、パブリッククラウドでは「遠すぎる」ようなケースです。このような場合にはオンプレミスにシステムを配置することが必須要件になることもあります。

### パブリッククラウドへの接続性

ハイブリッドクラウドにおいてはパブリッククラウドのサービスをメリットある形で利用することが重要となります。その中でパブリッククラウドへの接続性が高い状態でシステムを可動し続けることが望ましいのは当然の話ですが、現実的にパブリッククラウドへの接続性が悪い場所、地域にてシステムを稼働させる必要がある場合もあります。このような場合には、よりオンプレミス側にシステムコンポーネントを重点的に配置し、パブリッククラウドへの接続ができない場合でも稼働するシステムにする必要があります。

### 可搬性

システムを構成する仮想マシンやコンテナ等の構成要素をプラットフォームまたぎで移動させたいケースがあります。単純にシステムの配置場所を変更したいケースや、検証環境と本番環境を別のプラットフォームに配置したい場合もあります。パブリッククラウドへのマイグレーションを行いたい場合、またはその逆という場合もあります。このような場合、可搬性が高いプラットフォーム同士を選択することが重要な項目となります。

なお、システムを移動させるのではなく、最新のものを構築して古いものは破棄する等、そもそも可搬性を考慮しなくて良い手法を用いるという手段もありますし、PaaS、FaaSを利用するケースでは「可搬性」という概念そのものがあまり意味を持たない場合もあります。

### ライセンスポリシー

システム内で利用しているプロダクトのライセンスポリシーの観点で、システムの配置場所や選択可能な構成パターンが制限されるパターンがあります。具体的にはパブリッククラウド上での利用が禁止されているライセンス形態もありますし、逆にパブリッククラウド上での利用が有利となるライセンスポリシーもあります。

技術的に実現可能であってもライセンスポリシー的に違反となってしまうような構成は現実的に選択できないため、ライセンスポリシー的に問題がない構成とする必要があります。

### 認証システム

認証システムに何を利用するかもスタイル選択に大きな影響を与える要素です。

典型的な例としてWindows統合認証を用いたシステムがあります。Windows統合認証を利用するにはシステムコンポーネントに加えて利用クライアントもすべてプライベートネットワークで接続した上でActive Directoryドメインに参加させる必要があります。また、仮想マシンベースでIaaSを利用することになります。多くのPaaSはWindows統合認証をサポートしていません。

一方クラウド上のIDを利用する認証方式であればネットワーク構成やシステムコンポーネントの選択含めてかなり自由度がありますし、PaaSでのサポートも進んでいます。ですが逆にクラウド上のIDを利用するためにインターネット接続が必須となります。

さらに、クラウド上のIDであれば認証システム側で利用できるリッチな付加サービスが多数存在しそれを利用する事もできます。構築するシステムから認証やセキュリティに関連する要素を切り出す事も可能であり、全体のシステム構成への影響も大きなものになります。

### システム稼働時間

システムの稼働時間もパブリッククラウドの利用によって大きく変化した概念でありスタイル選択にも重要なポイントです。

システムの稼働時間は従来からまちまちでしたが、オンプレミスに配置されるシステムはハードウェア自体のライフサイクルの概念とも紐付いて稼働期間として３年、５年という長期間であることも多くあります。

パブリッククラウド上に配置するシステムはその課金単位が秒単位にまで短くなっていることからごく短期間、極端な例では分単位、秒単位でしか稼働させないシステムも珍しくありません。サーバーレスのサービスを利用する場合にはシステムの稼働時間という概念すら適用が難しいものもあります。

もちろんパブリッククラウドでの短いシステム稼働時間の流れを受けて、オンプレミスでも同様のシステム構成を取る例も増えています。

一般的に言ってシステム稼働期間が短いものであればクラウド上に展開し、役割を終えればすぐに削除するようにすることでパブリッククラウドのコストメリットを享受することができます。

また、システムが１日の中で稼働すべき時間も、システムを配置すべき場所に影響を与えます。24時間稼働し続ける必要がないシステムであればクラウド上に配置することでコストメリットを享受することができるケースが多くあります。